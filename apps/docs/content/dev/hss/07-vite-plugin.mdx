---
title: Vite + IIIF
---

# Vite + IIIF Guide

Use `iiif-hss/vite-plugin` to run the IIIF HSS runtime inside Vite dev/preview and copy generated IIIF output during `vite build`.

## 1) Create a Vite project

```bash
pnpm create vite@latest
```

Follow the wizard, then:

```bash
cd <your-project>
pnpm install
```

## 2) Install `iiif-hss`

```bash
pnpm add -D iiif-hss
```

## 3) Add the Vite plugin

```ts
import { defineConfig } from "vite";
import iiif from "iiif-hss/vite-plugin";

export default defineConfig({
  plugins: [iiif()],
});
```

That is enough to start.

## 4) Choose IIIF input mode

## Option A: Local static files (`content/`)

With `iiif()` and no shorthand remote options, HSS uses local JSON files by default.

Create `content/` and add IIIF JSON files, for example:

- `content/my-manifest.json`
- `content/some-folder/another-manifest.json`
- `content/my-collection.json`

Then run:

```bash
pnpm dev
```

## Option B: Remote IIIF shorthand (no local setup required)

You can point directly at remote resources from Vite config:

```ts
import { defineConfig } from "vite";
import iiif from "iiif-hss/vite-plugin";

export default defineConfig({
  plugins: [
    iiif({
      collection: "https://theseusviewer.org/cookbook-collection.json",
    }),
  ],
});
```

You can also pass multiple URLs:

```ts
iiif({
  collections: ["https://example.org/a/collection.json"],
  manifests: [
    "https://example.org/b/manifest.json",
    "https://example.org/c/manifest.json",
  ],
});
```

### Save remote manifests locally

```ts
iiif({
  collection: "https://theseusviewer.org/cookbook-collection.json",
  save: true,
  folder: "./content-overrides", // optional, default is ./content
});
```

Notes:

- `save` and `folder` are shorthand-only options.
- They can only be used with `collection`, `collections`, `manifest`, or `manifests`.

## 5) Dev URLs

With default `basePath: "/iiif"` and default Vite port:

- `http://localhost:5173/iiif/collection.json` (top-level collection)
- `http://localhost:5173/iiif/manifests/collection.json`
- `http://localhost:5173/iiif/<slug>/manifest.json`
- `http://localhost:5173/iiif/<slug>/meta.json`
- `http://localhost:5173/iiif/create` (quick create form for `iiif-json` stores)
- `http://localhost:5173/iiif/<slug>/edit` (redirect to Manifest Editor)
- `http://localhost:5173/iiif/_debug` (debug UI)
- `http://localhost:5173/iiif/_debug/api/site`
- `http://localhost:5173/iiif/_debug/api/resource/<slug>`

## 6) Build behavior (`vite build`)

The plugin now runs the IIIF build and copies output into Vite `outDir` by default.

Default behavior:

- generates IIIF output (typically from `.iiif/build`)
- copies into Vite output directory (for example `dist/`)

So after `pnpm build`, your `dist/` contains generated IIIF assets.

## 7) Useful plugin options

```ts
iiif({
  // Routing
  basePath: "/iiif",

  // Config source
  configFile: ".iiifrc.yml",
  config: {
    stores: {
      default: {
        type: "iiif-json",
        path: "content",
      },
    },
  },

  // Runtime toggles
  enabled: true,
  host: "localhost",
  port: 5173,

  // Build artifact copy
  copyBuildToOutDir: true,
  iiifBuildDir: ".iiif/build",
  outSubDir: "iiif",

  // Remote shorthand
  collection: "https://example.org/collection.json",
  save: true,
  folder: "./content-overrides",
});
```

## 8) Production preview

```bash
pnpm build
pnpm preview
```

Preview also mounts the IIIF middleware under the same `basePath`.

## 9) Notes

- This plugin is framework-agnostic and works with any Vite app setup.
- Existing APIs remain available (`iiif-hss/client`, `iiif-hss/node-client`).
- Astro users should use the dedicated integration: `iiif-hss/astro`.
